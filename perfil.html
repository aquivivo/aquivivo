<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Perfil | AquiVivo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&family=Playfair+Display:wght@700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css?v=20260222l" />
    <script src="assets/js/layout.js?v=20260222h" type="module"></script>
  </head>

  <body data-page="profile" class="with-side-panel profile-flat">
    <div id="appHeader"></div>
    <aside id="sidePanel" class="side-panel">
      <a href="perfil.html" data-page="profile" class="is-active">Perfil</a>
      <a href="referidos.html" data-page="amigos">Amigos</a>
      <a href="perfil.html?tab=courses" data-page="cursos">Mis cursos</a>
      <a href="review.html" data-page="practicar">Practicar</a>
      <a href="recompensas.html" data-page="recompensas">Pasaporte</a>
      <a href="ajustes.html" data-page="ajustes">Ajustes</a>
      <a href="pagos.html" data-page="pagos">Pagos</a>
      <a href="ayuda.html" data-page="ayuda">Ayuda</a>
    </aside>

    <main class="page profile-page">
      <div class="container profile-shell profile-shell--wide">
        <section class="profile-main">
          <div class="profile-hero" id="profileCard">
            <div class="profileCover" id="profileCover" aria-label="Portada del perfil">
              <img id="profileCoverImg" alt="Portada del perfil" loading="lazy" />
              <div class="profileCoverOverlay" aria-hidden="true"></div>
              <div class="profileCoverActions">
                <input id="coverInput" type="file" accept="image/*" hidden />
                <button class="btn-white-outline" id="coverUploadBtn" type="button">
                  Cambiar portada
                </button>
              </div>
            </div>

            <div class="profileHeader">
              <div class="profileAvatarStack">
                <div class="heroIcon heroIcon--avatar" id="profileAvatarWrap">
                  <img id="profileAvatarImg" alt="Foto de perfil" />
                  <span id="profileAvatarFallback">USR</span>
                </div>
                <div class="profileAvatarActions">
                  <input id="avatarInput" type="file" accept="image/*" hidden />
                  <button class="btn-white-outline" id="avatarUploadBtn" type="button">
                    Cambiar foto
                  </button>
                  <div class="hintSmall" id="avatarUploadHint"></div>
                </div>
              </div>
              <div class="profileHeaderInfo">
                <h1 class="glow-text" id="profileName" style="margin: 0; font-size: 36px">
                  Perfil
                </h1>
                <div class="muted" id="profileHandle" style="margin-top: 6px"></div>
                <div class="muted" id="profileStatus" style="margin-top: 6px">&mdash;</div>
                <div class="profileStats">
                  <div class="statCard">
                    <div class="statValue" id="statStreak">0</div>
                    <div class="statLabel">Racha</div>
                  </div>
                  <div class="statCard">
                    <div class="statValue" id="statExp">0</div>
                    <div class="statLabel">EXP</div>
                  </div>
                  <div class="statCard">
                    <div class="statValue" id="statLeague">&mdash;</div>
                    <div class="statLabel">Liga</div>
                  </div>
                  <div class="statCard">
                    <div class="statValue" id="statTop3">0</div>
                    <div class="statLabel">Top 3</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="metaRow profileActions">
              <button class="btn-yellow" id="btnProfileFollow" type="button">
                <span class="btnMiniIcon" aria-hidden="true">&#x2795;</span><span>Seguir</span>
              </button>
              <button class="btn-white-outline" id="btnProfileAdd" type="button" style="display: none">
                <span class="btnMiniIcon" aria-hidden="true">&#x1F91D;</span><span>Agregar</span>
              </button>
              <a class="btn-white-outline" id="btnProfileChat" href="mensajes.html">
                <span class="btnMiniIcon" aria-hidden="true">&#x1F4AC;</span><span>Mensaje</span>
              </a>
              <button
                class="btn-white-outline"
                id="btnProfileBack"
                type="button"
                style="display: none"
              >
                <span class="btnMiniIcon" aria-hidden="true">&#x2190;</span><span>Atr&aacute;s</span>
              </button>
              <span class="hintSmall" id="profileMsg"></span>
            </div>
          </div>

          <div class="profile-section profile-section--community profile-section--compact">
            <div class="sectionTitle sectionTitle--icon" style="margin-top: 0">
              <span class="sectionIcon" aria-hidden="true">&#x1F310;</span><span>Resumen social</span>
            </div>
            <div class="community-overview">
              <div class="social-stat">
                <span><span class="statGlyph" aria-hidden="true">&#x1F91D;</span>Conexiones</span>
                <strong id="friendsCount">0</strong>
              </div>
              <div class="social-stat">
                <span><span class="statGlyph" aria-hidden="true">&#x1F465;</span>Seguidores</span>
                <strong id="followersCount">0</strong>
              </div>
              <div class="social-stat">
                <span><span class="statGlyph" aria-hidden="true">&#x1F449;</span>Siguiendo</span>
                <strong id="followingCount">0</strong>
              </div>
            </div>
            <div class="community-quick">
              <a class="community-quick-link" href="referidos.html">
                <span class="community-quick-ico" aria-hidden="true">&#x1F91D;</span>
                <span>Explorar amigos</span>
              </a>
              <a class="community-quick-link" href="mensajes.html">
                <span class="community-quick-ico" aria-hidden="true">&#x1F4AC;</span>
                <span>Mensajes</span>
              </a>
            </div>
            <div class="muted community-inline">
              <span class="community-inline-ico" aria-hidden="true">&#x26A1;</span>
              <span id="recentReactions">Sin reacciones a&uacute;n.</span>
            </div>
          </div>

          <div class="modalOverlay" id="storyModal" aria-hidden="true">
            <div class="modalCard storyModalCard" role="dialog" aria-modal="true">
              <div class="modalHead">
                <div class="modalTitle" id="storyModalTitle">Historia</div>
                <div class="metaRow" style="gap: 8px">
                  <button class="btn-white-outline" id="storyPrevBtn" type="button">&#x2039;</button>
                  <button class="btn-white-outline" id="storyNextBtn" type="button">&#x203A;</button>
                  <button class="btn-white-outline" id="storyCloseBtn" type="button">Cerrar</button>
                </div>
              </div>
              <div class="muted storyModalMeta" id="storyModalMeta"></div>
              <div class="storyModalMedia">
                <img id="storyModalImg" alt="Historia" loading="lazy" />
              </div>
              <div class="storyModalCaption" id="storyModalCaption"></div>
              <div class="metaRow storyModalActions">
                <button class="btn-white-outline" id="storyHighlightBtn" type="button">
                  Destacar
                </button>
                <button class="btn-white-outline" id="storyDeleteBtn" type="button">Eliminar</button>
                <button class="btn-white-outline" id="storyShareBtn" type="button">Compartir</button>
                <button class="btn-white-outline" id="storyDmBtn" type="button">Enviar</button>
                <button class="btn-white-outline" id="storyReportBtn" type="button">Reportar</button>
              </div>
              <div class="hintSmall" id="storyModalMsg"></div>
            </div>
          </div>

          <div class="profile-tabs" role="tablist" aria-label="Secciones del perfil">
            <button class="profile-tab-btn is-active" data-tab="info" type="button">
              <span class="tabIcon" aria-hidden="true">&#x1F464;</span><span>Sobre m&iacute;</span>
            </button>
            <button class="profile-tab-btn" data-tab="feed" type="button">
              <span class="tabIcon" aria-hidden="true">&#x1F4F0;</span><span>Feed</span>
            </button>
            <button class="profile-tab-btn" data-tab="media" type="button">
              <span class="tabIcon" aria-hidden="true">&#x1F5BC;</span><span>Fotos</span>
            </button>
            <button class="profile-tab-btn" data-tab="rewards" type="button">
              <span class="tabIcon" aria-hidden="true">&#x1F3C5;</span><span>Recompensas</span>
            </button>
            <button class="profile-tab-btn" data-tab="courses" type="button">
              <span class="tabIcon" aria-hidden="true">&#x1F4DA;</span><span>Cursos</span>
            </button>
          </div>

          <section class="profile-tab is-active" id="tab-info">
            <div class="profile-section profile-public" id="profilePublicCard">
              <div class="sectionTitle" style="margin-top: 0">As&iacute; te ven otros</div>
              <div class="publicBioGrid">
                <div class="publicBioItem">
                  <div class="publicBioLabel">Motivo</div>
                  <div class="publicBioValue" id="publicBioWhy">&mdash;</div>
                </div>
                <div class="publicBioItem">
                  <div class="publicBioLabel">Lo m&aacute;s dif&iacute;cil</div>
                  <div class="publicBioValue" id="publicBioHard">&mdash;</div>
                </div>
                <div class="publicBioItem">
                  <div class="publicBioLabel">Meta</div>
                  <div class="publicBioValue" id="publicBioGoal">&mdash;</div>
                </div>
              </div>

              <div class="publicFacts" aria-label="Detalles">
                <a
                  class="publicFact"
                  id="publicWebsiteWrap"
                  href=""
                  target="_blank"
                  rel="noopener"
                  style="display: none"
                >
                  <span class="publicFactIcon" aria-hidden="true"></span>
                  <span id="publicBioWebsite"></span>
                </a>
                <div class="publicFact" id="publicLocationWrap" style="display: none">
                  <span class="publicFactIcon" aria-hidden="true"></span>
                  <span id="publicBioLocation"></span>
                </div>
                <div class="publicFact" id="publicLanguagesWrap" style="display: none">
                  <span class="publicFactIcon" aria-hidden="true"></span>
                  <span id="publicBioLanguages"></span>
                </div>
                <div class="publicFact" id="publicInterestsWrap" style="display: none">
                  <span class="publicFactIcon" aria-hidden="true">&#x2728;</span>
                  <span id="publicBioInterests"></span>
                </div>
              </div>
              <div class="hintSmall" id="publicCardHint"></div>
            </div>

            <div class="profile-section" id="activityCard" style="display: none">
              <div class="sectionTitle" style="margin-top: 0">Actividad</div>
              <div class="muted" id="activityHint">&mdash;</div>
              <div class="activityGrid" id="activityGrid" style="margin-top: 12px"></div>
              <div class="hintSmall" id="activitySummary" style="margin-top: 10px"></div>
            </div>

            <div class="profile-section" id="profileEditHintCard" style="display: none">
              <div class="sectionTitle" style="margin-top: 0">Editar perfil</div>
              <div class="muted">
                La edici&oacute;n de tu informaci&oacute;n, privacidad y preferencias est&aacute; en Ajustes.
              </div>
              <div class="metaRow" style="margin-top: 12px; gap: 10px; flex-wrap: wrap">
                <a class="btn-yellow" href="ajustes.html#perfil">Abrir Ajustes</a>
              </div>
            </div>

            <div class="profile-section profile-connect-cta">
              <div class="sectionTitle sectionTitle--icon" style="margin-top: 0">
                <span class="sectionIcon" aria-hidden="true">&#x1F91D;</span><span>Conecta con personas</span>
              </div>
              <div class="muted">
                Descubre usuarios, gestiona invitaciones y construye tu red desde la secci&oacute;n Amigos.
              </div>
              <div class="metaRow" style="margin-top: 12px">
                <a class="btn-yellow" href="referidos.html">
                  <span class="btnMiniIcon" aria-hidden="true">&#x1F50D;</span><span>Ir a Amigos</span>
                </a>
              </div>
            </div>
          </section>

          <section class="profile-tab" id="tab-feed">
            <div class="profile-section status-card" id="statusCard">
              <div class="status-heart" id="statusHeart"></div>
              <div class="statusInputRow">
                <div class="nav-avatar nav-avatar--small statusAvatar" id="statusAvatar">
                  <img id="statusAvatarImg" alt="Foto de perfil" style="display: none" />
                  <span id="statusAvatarFallback">U</span>
                </div>
                <textarea
                  id="statusInput"
                  class="statusInput"
                  rows="3"
                  placeholder="&iquest;C&oacute;mo te sientes aprendiendo hoy?&#10;Puedes escribir en espa&ntilde;ol o polaco"
                ></textarea>
              </div>
              <div class="statusTools">
                <button class="statusChip" data-tag="estado" id="statusMood">Estado</button>
                <select id="statusMinutes" class="select statusSelect">
                  <option value="">&#x23F1; Aprendizaje</option>
                  <option value="5">5 min</option>
                  <option value="10">10 min</option>
                  <option value="15">15 min</option>
                  <option value="20">20 min</option>
                </select>
                <select id="statusCourse" class="select statusSelect">
                  <option value="">Curso</option>
                  <option value="A1">A1</option>
                  <option value="A2">A2</option>
                  <option value="B1">B1</option>
                  <option value="B2">B2</option>
                </select>
                <button class="statusChip" data-tag="motivacion" id="statusMotivation">Motivaci&oacute;n</button>
              </div>
              <div class="statusActions">
                <button class="btn-yellow" id="statusPostBtn" type="button" disabled>Publicar</button>
                <span class="hintSmall" id="statusHint"></span>
              </div>
            </div>

            <div class="profile-section feedFiltersCard" id="feedFiltersCard">
              <div class="feedFiltersRow" id="feedFiltersRow" aria-label="Filtros del feed">
                <button class="filterChip is-active" type="button" data-feed-filter="all">Todo</button>
                <button class="filterChip" type="button" data-feed-filter="pinned">Fijados</button>
                <button class="filterChip" type="button" data-feed-filter="photos">Fotos</button>
                <button class="filterChip" type="button" data-feed-filter="status">Estados</button>
                <button class="filterChip" type="button" data-feed-filter="corrections">Correcciones</button>
              </div>
              <div class="metaRow" style="margin-top: 12px; gap: 10px; flex-wrap: wrap">
                <input
                  id="feedSearchInput"
                  class="input"
                  type="text"
                  placeholder="Filtra por #tag o texto..."
                  style="max-width: 260px"
                />
                <button class="btn-white-outline" id="btnFeedClear" type="button">Limpiar</button>
                <button
                  class="btn-white-outline"
                  id="btnHiddenClear"
                  type="button"
                  style="display: none"
                >
                  Mostrar ocultos
                </button>
                <span class="hintSmall" id="feedFilterHint"></span>
              </div>
            </div>

            <div class="feedList" id="feedList"></div>
          </section>

          <section class="profile-tab" id="tab-media">
            <div class="profile-section profile-stories" id="storiesCard">
              <div class="storiesHead">
                <div>
                  <div class="sectionTitle sectionTitle--icon" style="margin-top: 0">
                    <span class="sectionIcon" aria-hidden="true">&#x1F4F8;</span><span>Historias</span>
                  </div>
                  <div class="muted" id="storiesHint">&mdash;</div>
                </div>
                <div class="metaRow" style="gap: 10px">
                  <input id="storyFileInput" type="file" accept="image/*" hidden />
                  <button class="btn-white-outline" id="storyAddBtn" type="button" style="display: none">
                    + Nueva
                  </button>
                </div>
              </div>
              <div class="storiesRow" id="storiesRow" aria-label="Historias"></div>
              <div class="hr" style="margin: 14px 0"></div>
              <div class="storiesHead">
                <div>
                  <div class="sectionTitle sectionTitle--icon" style="margin-top: 0">
                    <span class="sectionIcon" aria-hidden="true">&#x2728;</span><span>Destacados</span>
                  </div>
                  <div class="muted" id="highlightsHint">&mdash;</div>
                </div>
              </div>
              <div class="storiesRow" id="highlightsRow" aria-label="Destacados"></div>
            </div>

            <div class="profile-section">
              <div class="sectionTitle" style="margin-top: 0">Fotos</div>
              <div class="muted" id="mediaHint">
                Comparte momentos, notas o capturas de tu aprendizaje.
              </div>

              <div class="mediaComposer" id="mediaComposer">
                <input id="mediaFileInput" type="file" accept="image/*" hidden />
                <div class="mediaComposerRow">
                  <button class="btn-yellow" id="mediaPickBtn" type="button">Elegir foto</button>
                  <button
                    class="btn-white-outline"
                    id="mediaRemoveBtn"
                    type="button"
                    style="display: none"
                  >
                    Quitar
                  </button>
                  <button class="btn-white-outline" id="mediaPostBtn" type="button" disabled>
                    Publicar foto
                  </button>
                </div>
                <div class="mediaPreview" id="mediaPreview" style="display: none">
                  <img id="mediaPreviewImg" alt="Vista previa" loading="lazy" />
                </div>
                <input
                  id="mediaCaption"
                  class="input"
                  type="text"
                  placeholder="Escribe un pie de foto (opcional)..."
                />
                <div class="hintSmall" id="mediaMsg"></div>
              </div>

              <div class="mediaGrid" id="mediaGrid"></div>
            </div>
          </section>


          <section class="profile-tab" id="tab-rewards">
            <div class="profile-section">
              <div class="sectionTitle" style="margin-top: 0">Tus logros</div>
              <div class="achievement-grid" id="rewardsGrid">
                <div class="achievement-card" data-achievement="racha">
                  <div class="achievement-title">Rachas</div>
                  <div class="achievement-value" id="rewardStreak">0 d&iacute;as</div>
                  <div class="achievement-meta" id="rewardStreakMeta">Nivel 1</div>
                </div>
                <div class="achievement-card" data-achievement="insignias">
                  <div class="achievement-title">Insignias</div>
                  <div class="achievement-value" id="rewardBadges">0</div>
                  <div class="achievement-meta">Desbloqueadas</div>
                </div>
                <div class="achievement-card" data-achievement="dias">
                  <div class="achievement-title">&#x1F4C5; D&iacute;as de aprendizaje</div>
                  <div class="achievement-value" id="rewardDays">0 d&iacute;as</div>
                  <div class="achievement-meta">Constancia</div>
                </div>
                <div class="achievement-card" data-achievement="constancia">
                  <div class="achievement-title">Constancia</div>
                  <div class="achievement-value" id="rewardConsistency">0%</div>
                  <div class="achievement-meta">Promedio semanal</div>
                </div>
              </div>
              <div class="muted" id="rewardDetail" style="margin-top: 10px">
                Haz clic en una tarjeta para ver el detalle.
              </div>
            </div>
          </section>

          <section class="profile-tab" id="tab-courses">
            <div class="profile-section">
              <div class="sectionTitle" style="margin-top: 0">Tus cursos</div>
              <div class="coursesList" id="coursesList"></div>
            </div>
          </section>
        </section>

      </div>
    </main>

    <script type="module" src="assets/js/pages/perfil-page.js?v=20260222n"></script>
  </body>
</html>




