<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Panel del estudiante | AquiVivo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&family=Playfair+Display:wght@700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css?v=20260208m" />
    <script src="assets/js/layout.js?v=20260208m" type="module"></script>
  </head>

  <body data-page="panel">
    <div id="appHeader"></div>

    <main class="page">
      <div class="container">
        <div class="panelHeroGrid">
          <div class="panelHeroLeft">
            <div class="heroBanner" style="align-self: start">
              <div class="heroTitleRow">
                <div class="heroIcon heroIcon--avatar" id="userAvatarWrap">
                  <img id="userAvatarImg" alt="Foto de perfil" />
                  <span id="userAvatarFallback"></span>
                </div>
                <div>
                  <h1 class="glow-text" id="panelTitle" style="margin: 0; font-size: 44px">
                    ¡Buenas!
                  </h1>
                  <div class="muted" id="panelSubtitle" style="margin-top: 6px">
                    Aquí tienes tu libreta!<br />¡Qué chimba verte!
                  </div>
                  <div class="metaRow" style="margin-top: 10px; gap: 10px; flex-wrap: wrap">
                    <button class="btn-white-outline" id="btnAvatarUpload" type="button">
                      Cambiar foto
                    </button>
                    <button class="btn-white-outline" id="btnAvatarRemove" type="button">
                      Quitar foto
                    </button>
                    <span class="hintSmall" id="avatarMsg"></span>
                    <input id="avatarFile" type="file" accept="image/*" style="display: none" />
                  </div>
                </div>
              </div>

              <div
                class="metaRow"
                style="margin-top: 14px; flex-wrap: wrap; gap: 10px"
              >
                <span
                  ><b id="userEmail">...</b>
                  <span id="adminBadge" style="margin-left: 10px"
                    >(admin: —)</span
                  ></span
                >

                <!-- ? Access status pills (Krok 11) -->
                <span id="accessPill" style="display: none"></span>
                <span id="planPill" style="display: none"></span>
                <span id="untilPill" style="display: none"></span>

                <span
                  id="adminLinkWrap"
                  class="metaRow"
                  style="margin-left: auto"
                ></span>
              </div>
            </div>
            <div class="panelOverviewGrid">
            <div class="card" id="trialCard">
              <div class="sectionTitle" style="margin-top: 0">
                Prueba gratis A1
              </div>
              <div class="metaRow" style="margin-top: 10px; gap: 10px; flex-wrap: wrap">
                <button class="btn-yellow" id="btnTrialA1" type="button">
                  Activa A1 gratis 7 días
                </button>
              </div>
              <div class="hintSmall" id="trialMsg" style="margin-top: 8px; display: none"></div>
            </div>
            <div class="card" id="lastActivityCard">
              <div class="sectionTitle" style="margin-top: 0">
                Última actividad
              </div>
              <div class="muted" id="lastActivityWhen">—</div>
              <div
                style="margin-top: 10px; font-weight: 900"
                id="lastActivityTitle"
              >
                —
              </div>
              <div style="margin-top: 12px">
                <a id="lastActivityLink" class="btn-white-outline" href="#"
                  >Continuar</a
                >
              </div>
            </div>
            <div class="card" id="progressSummaryCard">
              <div class="sectionTitle" style="margin-top: 0">Progreso</div>
              <div
                class="metaRow"
                style="margin-top: 10px; gap: 10px; flex-wrap: wrap"
              >
                <span id="progTopics">Temas: -</span>
                <span id="progCompleted">Completados: -</span>
                <span id="progPractice">Práctica: -</span>
                <span id="progTest">Test: -</span>
              </div>
              <div class="hintSmall" id="progLastActivity" style="margin-top: 8px">
                Última actividad: -
              </div>
            </div>
            </div>
            <div class="card" id="reviewSummaryCard">
              <div class="sectionTitle" style="margin-top: 0">Repaso</div>
              <div
                class="metaRow"
                style="margin-top: 10px; gap: 10px; flex-wrap: wrap"
              >
                <span id="reviewDue">Para hoy: -</span>
                <span id="reviewOverdue">Atrasadas: -</span>
                <span id="reviewNew">Nuevas: -</span>
              </div>
              <div class="hintSmall" id="reviewPlan" style="margin-top: 8px">
                Plan: 10 min al día
              </div>
              <div id="reviewWeek" class="reviewWeek" style="margin-top: 10px"></div>
              <div class="metaRow" style="margin-top: 12px; gap: 10px">
                <a class="btn-yellow" href="review.html">Empezar 10 min</a>
                <a class="btn-white-outline" href="flashcards.html">Fichas</a>
                <a
                  class="btn-white-outline"
                  href="ajustes.html#repaso"
                  aria-label="Ajustes de repaso"
                  title="Ajustes de repaso"
                  ></a>
                <span class="hintSmall" id="reviewHint"></span>
              </div>
           </div>
            <div id="notificaciones"></div>
            <div class="card" id="inboxCard">
              <div class="sectionTitle" style="margin-top: 0">Bandeja</div>
              <div class="muted">Avisos y novedades del equipo AquiVivo.</div>
              <div id="inboxList" class="inboxList" style="margin-top: 12px"></div>
            </div>
          </div>
          <div class="referralSide">
            <div id="mensajes"></div>
            <div class="card" id="communityCard">
              <div class="sectionTitle" style="margin-top: 0">Comunidad</div>
              <div class="muted">Conecta con otros estudiantes, agrega amigos y charla.</div>
              <div class="communityGrid" style="margin-top: 12px">
                <div class="communityCol">
                  <div class="subtitle" style="margin: 0">Tu codigo de amistad</div>
                  <div class="metaRow" style="margin-top: 8px; gap: 10px; flex-wrap: wrap">
                    <input id="friendCode" class="input" disabled style="max-width: 220px; font-weight: 900" />
                    <button id="btnCopyFriendCode" class="btn-white-outline" type="button">Copiar</button>
                    <button id="btnNewFriendCode" class="btn-white-outline" type="button">Nuevo</button>
                  </div>
                  <div id="friendCodeInfo" class="hintSmall" style="margin-top: 6px"></div>
                  <div class="hr"></div>
                  <div class="subtitle" style="margin: 0">Buscar personas</div>
                  <div class="peopleSearchBar" style="margin-top: 10px">
                    <div class="ps-avatar" id="communitySearchAvatar" aria-hidden="true">
                      <img id="communitySearchAvatarImg" alt="" loading="lazy" />
                      <span id="communitySearchAvatarFallback">U</span>
                    </div>
                    <input
                      id="communitySearchInput"
                      class="ps-input"
                      placeholder="Busca por nombre o @usuario…"
                      autocomplete="off"
                      spellcheck="false"
                    />
                    <div class="ps-actions">
                      <button
                        id="btnCommunityClear"
                        class="ps-icon"
                        type="button"
                        aria-label="Limpiar"
                        title="Limpiar"
                      >
                        ×
                      </button>
                      <button
                        id="btnCommunitySearch"
                        class="ps-icon ps-icon--primary"
                        type="button"
                        aria-label="Buscar"
                        title="Buscar"
                      >
                        
                      </button>
                    </div>
                  </div>
                  <div id="communitySearchStatus" class="hintSmall" style="margin-top: 6px"></div>
                  <div id="communitySearchResults" class="friendList" style="margin-top: 8px"></div>
                  <div class="hr"></div>
                  <div class="subtitle" style="margin: 0">Agregar amigo</div>
                  <div class="metaRow" style="margin-top: 8px; gap: 10px; flex-wrap: wrap">
                    <input id="friendCodeSearch" class="input" placeholder="Codigo de amistad" style="max-width: 220px" />
                    <button id="btnSendFriendRequest" class="btn-yellow" type="button">Enviar</button>
                  </div>
                  <div id="friendReqStatus" class="hintSmall" style="margin-top: 6px"></div>
                  <div class="hr"></div>
                  <div class="subtitle" style="margin: 0">Solicitudes pendientes</div>
                  <div id="friendRequestsList" class="friendList" style="margin-top: 8px"></div>
                  <div class="subtitle" style="margin-top: 14px">Amigos</div>
                  <div id="friendsList" class="friendList" style="margin-top: 8px"></div>
                  <div class="subtitle" style="margin-top: 14px">Bloqueados</div>
                  <div id="blockedList" class="friendList" style="margin-top: 8px"></div>
                </div>
                <div class="communityCol">
                  <div class="subtitle" style="margin: 0">Mensajes</div>
                  <div class="muted" style="margin-top: 4px">
                    Usa la nueva bandeja de mensajes para chats, grupos y soporte.
                  </div>
                  <div class="metaRow" style="margin-top: 10px; gap: 10px; flex-wrap: wrap">
                    <a class="btn-yellow" href="mensajes.html">Abrir mensajes</a>
                  </div>
                </div>
              </div>
            </div>
            <div id="referidos"></div>
<div id="recompensas"></div>
            <div class="card card--promo referral-card referral-card--compact" id="referralCard">
            
            <div class="sectionTitle" style="margin-top: 0">
              Tengo código de un pana 
            </div>
            <div class="muted">
              Compártelo con tus panas. Si lo usan, tú ganas algo también 
            </div>

            <div
              class="metaRow"
              style="margin-top: 12px; gap: 10px; align-items: center"
            >
              <input
                id="myRefCode"
                class="input"
                disabled
                style="max-width: 220px; font-weight: 900"
              />
              <button
                id="btnCopyMyRefCode"
                class="btn-white-outline"
                type="button"
              >
                Copiar
              </button>
            </div>

            <div id="myRefInfo" class="hintSmall" style="margin-top: 8px"></div>

            <div class="hr"></div>

            <details class="refDetails">
              <summary>Tengo código de un pana </summary>
              <div class="muted">Escribe el código para asociarlo a tu cuenta.</div>
              <div
                class="metaRow"
                style="
                  margin-top: 10px;
                  gap: 10px;
                  align-items: center;
                  flex-wrap: wrap;
                "
              >
                <input
                  id="useRefCode"
                  class="input"
                  placeholder="ej. MAGDAL-8F3K"
                  style="max-width: 220px"
                />
                <button id="btnApplyRefCode" class="btn-yellow" type="button">
                  Aplicar
                </button>
                <span id="applyRefStatus" class="hintSmall"></span>
              </div>
            </details>

            <div class="hr"></div>

            <details class="refDetails">
              <summary>Cómo van mis códigos</summary>
              <div
                class="metaRow"
                style="margin-top: 10px; gap: 10px; flex-wrap: wrap"
              >
                <span id="refStatInvites">Recomendaciones: 0</span>
                <span id="refStatRewards">Recompensas: 0</span>
              </div>
              <div id="refRewardsList" class="muted" style="margin-top: 10px"></div>
              <div
                id="refRewardsActions"
                class="muted"
                style="margin-top: 10px"
              ></div>
            </details>
            </div>
            <div id="pagos"></div>
            <div class="card promo-mini" id="promoMini">
              <div class="promo-mini-title">Tú ganas 20%</div>
              <div class="promo-mini-sub">Tu amigo 10%</div>
            </div>
          </div>
          </div>
        </div>

        <div id="cursos"></div>
        <div class="card coursesSection" style="margin-top: 16px">
          <div class="sectionTitle" style="margin-top: 0">Cursos</div>
          <div class="muted">Selecciona un nivel para empezar.</div>
          <div
            id="coursesCards"
            class="coursesGrid"
            style="margin-top: 12px"
          ></div>
        </div>

        <!-- Settings modal (placeholder for panel-page.js) -->
        <div id="adminModal" class="modalOverlay" aria-hidden="true">
          <div class="modalCard">
            <div class="modalHead">
              <div class="modalTitle">Admin / Ajustes</div>
              <button
                id="closeSettingsBtn"
                class="btn-white-outline"
                type="button"
              >
                ?
              </button>
            </div>
            <div class="hr"></div>

            <!-- host for extra buttons preview -->
            <div id="extraButtonsHost" class="metaRow"></div>
            <div
              id="extraButtonsPreview"
              class="muted"
              style="margin-top: 10px"
            ></div>

            <div class="hr"></div>

            <!-- Prices placeholders -->
            <div class="panelGrid">
              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">Precios</div>
                <div class="metaRow">
                  <input
                    id="adm_price_A1A2"
                    type="number"
                    placeholder="A1/A2"
                  />
                  <input id="adm_price_B1" type="number" placeholder="B1" />
                  <input id="adm_price_B2" type="number" placeholder="B2" />
                </div>
              </div>
            </div>

            <div
              class="metaRow"
              style="margin-top: 12px; justify-content: flex-end"
            >
              <button id="userClose" class="btn-white-outline" type="button">
                Cerrar
              </button>
            </div>
          </div>
        </div>

        <!-- Meta modal placeholders -->
        <div id="metaModal" class="modalOverlay" aria-hidden="true">
          <div class="modalCard">
            <div class="modalHead">
              <div class="modalTitle">Editar meta del curso</div>
              <button id="metaClose" class="btn-white-outline" type="button">
                ?
              </button>
            </div>
            <div class="hr"></div>

            <div class="panelGrid">
              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">Nivel</div>
                <div id="metaLevel" class="muted">—</div>
                <div style="margin-top: 12px">
                  <label class="muted" style="font-weight: 900">Title</label>
                  <input id="metaTitle" type="text" />
                </div>
                <div style="margin-top: 10px">
                  <label class="muted" style="font-weight: 900">Subtitle</label>
                  <input id="metaSubtitle" type="text" />
                </div>
              </div>

              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">
                  Botón / Tile
                </div>
                <div class="metaRow">
                  <input
                    id="metaPrimaryLabel"
                    type="text"
                    placeholder="Primary label"
                  />
                  <input
                    id="metaPrimaryHref"
                    type="text"
                    placeholder="Primary href"
                  />
                </div>
                <div class="metaRow" style="margin-top: 10px">
                  <input id="metaBtnText" type="text" placeholder="Btn text" />
                  <input id="metaBtnBg" type="text" placeholder="Btn bg" />
                </div>
                <div class="metaRow" style="margin-top: 10px">
                  <input
                    id="metaTileText"
                    type="text"
                    placeholder="Tile text"
                  />
                  <input id="metaTileBg" type="text" placeholder="Tile bg" />
                </div>
              </div>
            </div>

            <div
              class="metaRow"
              style="margin-top: 12px; justify-content: flex-end"
            >
              <button id="metaSave" class="btn-yellow" type="button">
                Guardar
              </button>
              <button id="metaCancel" class="btn-white-outline" type="button">
                Cancelar
              </button>
              <span
                id="metaDeleteWrap"
                style="margin-left: auto; display: none"
              >
                <button id="metaDelete" class="btn-red" type="button">
                  Eliminar
                </button>
                <button id="metaDeleteWithData" class="btn-red" type="button">
                  Eliminar con datos
                </button>
              </span>
            </div>
          </div>
        </div>

        <!-- Add course modal placeholders -->
        <div id="addCourseModal" class="modalOverlay" aria-hidden="true">
          <div class="modalCard">
            <div class="modalHead">
              <div class="modalTitle">Nuevo curso</div>
              <button
                id="addCourseClose"
                class="btn-white-outline"
                type="button"
              >
                ?
              </button>
            </div>
            <div class="hr"></div>

            <div class="panelGrid">
              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">Nivel</div>
                <select id="newCourseLevel">
                  <option value="A1">A1</option>
                  <option value="A2">A2</option>
                  <option value="B1">B1</option>
                  <option value="B2">B2</option>
                </select>
                <div style="margin-top: 10px">
                  <label class="muted" style="font-weight: 900">Title</label>
                  <input id="newCourseTitle" type="text" />
                </div>
                <div style="margin-top: 10px">
                  <label class="muted" style="font-weight: 900">Subtitle</label>
                  <input id="newCourseSubtitle" type="text" />
                </div>
              </div>

              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">
                  Botón / Tile
                </div>
                <div class="metaRow">
                  <input
                    id="newCoursePrimaryLabel"
                    type="text"
                    placeholder="Primary label"
                  />
                  <input
                    id="newCoursePrimaryHref"
                    type="text"
                    placeholder="Primary href"
                  />
                </div>
                <div class="metaRow" style="margin-top: 10px">
                  <input
                    id="newCourseBtnText"
                    type="text"
                    placeholder="Btn text"
                  />
                  <input id="newCourseBtnBg" type="text" placeholder="Btn bg" />
                </div>
                <div class="metaRow" style="margin-top: 10px">
                  <input
                    id="newCourseTileText"
                    type="text"
                    placeholder="Tile text"
                  />
                  <input
                    id="newCourseTileBg"
                    type="text"
                    placeholder="Tile bg"
                  />
                </div>
              </div>
            </div>

            <div
              class="metaRow"
              style="margin-top: 12px; justify-content: flex-end"
            >
              <button id="addCourseCreate" class="btn-yellow" type="button">
                Crear
              </button>
              <button
                id="addCourseCancel"
                class="btn-white-outline"
                type="button"
              >
                Cancelar
              </button>
            </div>
          </div>
        </div>

        <!-- legacy placeholders required by panel-page.js but not shown -->
        <a id="adm_btn_href" style="display: none"></a>
        <input id="adm_btn_text" style="display: none" />
        <input id="adm_btn_style" style="display: none" />
        <input id="addCourseBtn" style="display: none" />
        <div id="metaDeleteWrap" style="display: none"></div>
        <div id="metaDelete" style="display: none"></div>
        <div id="metaDeleteWithData" style="display: none"></div>
        <div id="metaSave" style="display: none"></div>
        <div id="metaCancel" style="display: none"></div>
      </div>
    </main>

    <script type="module" src="assets/js/pages/panel-page.js?v=20260208m"></script>
  </body>
</html>




