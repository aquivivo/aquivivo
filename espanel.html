<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Panel del estudiante | AquiVivo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&family=Playfair+Display:wght@700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <script src="assets/js/layout.js" type="module"></script>
  </head>

  <body data-page="panel">
    <div id="appHeader"></div>

    <main class="page">
      <div class="container">
        <div class="panelHeroGrid">
          <div class="panelHeroLeft">
            <div class="heroBanner" style="align-self: start">
              <div class="heroTitleRow">
                <div class="heroIcon">üéì</div>
                <div>
                  <h1 class="glow-text" id="panelTitle" style="margin: 0; font-size: 44px">
                    ¬°Buenas!
                  </h1>
                  <div class="muted" id="panelSubtitle" style="margin-top: 6px">
                    Aqu√≠ tienes tu libreta!<br />¬°Qu√© chimba verte!
                  </div>
                </div>
              </div>

              <div
                class="metaRow"
                style="margin-top: 14px; flex-wrap: wrap; gap: 10px"
              >
                <span class="pill"
                  >üë§ <b id="userEmail">...</b>
                  <span id="adminBadge" style="margin-left: 10px"
                    >(admin: ‚Äî)</span
                  ></span
                >

                <!-- ‚úÖ Access status pills (Krok 11) -->
                <span id="accessPill" class="pill" style="display: none"></span>
                <span id="planPill" class="pill" style="display: none"></span>
                <span id="untilPill" class="pill" style="display: none"></span>

                <span
                  id="adminLinkWrap"
                  class="metaRow"
                  style="margin-left: auto"
                ></span>
              </div>
            </div>
            <div class="card" id="lastActivityCard">
              <div class="sectionTitle" style="margin-top: 0">
                üïí √öltima actividad
              </div>
              <div class="muted" id="lastActivityWhen">‚Äî</div>
              <div
                style="margin-top: 10px; font-weight: 900"
                id="lastActivityTitle"
              >
                ‚Äî
              </div>
              <div style="margin-top: 12px">
                <a id="lastActivityLink" class="btn-white-outline" href="#"
                  >Continuar</a
                >
              </div>

              <div class="hr"></div>
            </div>
          </div>
          <div class="referralSide">
            <div class="card card--promo referral-card referral-card--compact" id="referralCard">
            <div class="sectionTitle" style="margin-top: 0">
              ü§ù Mi c√≥digo de recomendaci√≥n
            </div>
            <div class="muted">
              Comp√°rtelo con tus amigos. Cuando lo usen, recibir√°s una recompensa.
            </div>

            <div
              class="metaRow"
              style="margin-top: 12px; gap: 10px; align-items: center"
            >
              <input
                id="myRefCode"
                class="input"
                disabled
                style="max-width: 220px; font-weight: 900"
              />
              <button
                id="btnCopyMyRefCode"
                class="btn-white-outline"
                type="button"
              >
                üìã Copiar
              </button>
            </div>

            <div id="myRefInfo" class="hintSmall" style="margin-top: 8px"></div>

            <div class="hr"></div>

            <details class="refDetails">
              <summary>üéÅ Tengo un c√≥digo de un amigo</summary>
              <div class="muted">Escribe el c√≥digo para asociarlo a tu cuenta.</div>
              <div
                class="metaRow"
                style="
                  margin-top: 10px;
                  gap: 10px;
                  align-items: center;
                  flex-wrap: wrap;
                "
              >
                <input
                  id="useRefCode"
                  class="input"
                  placeholder="ej. MAGDAL-8F3K"
                  style="max-width: 220px"
                />
                <button id="btnApplyRefCode" class="btn-yellow" type="button">
                  Aplicar
                </button>
                <span id="applyRefStatus" class="hintSmall"></span>
              </div>
            </details>

            <div class="hr"></div>

            <details class="refDetails">
              <summary>üìà Estad√≠sticas de recomendaciones</summary>
              <div
                class="metaRow"
                style="margin-top: 10px; gap: 10px; flex-wrap: wrap"
              >
                <span class="pill" id="refStatInvites">üë• Recomendaciones: 0</span>
                <span class="pill pill-yellow" id="refStatRewards"
                  >üé´ Recompensas: 0</span
                >
              </div>
              <div id="refRewardsList" class="muted" style="margin-top: 10px"></div>
              <div
                id="refRewardsActions"
                class="muted"
                style="margin-top: 10px"
              ></div>
            </details>
            </div>
            <div class="card promo-mini" id="promoMini">
              <div class="promo-mini-title">20% para ti</div>
              <div class="promo-mini-sub">10% para tu amigo</div>
            </div>
          </div>
          </div>
        </div>

        <div class="card coursesSection" style="margin-top: 16px">
          <div class="sectionTitle" style="margin-top: 0">üìö Cursos</div>
          <div class="muted">Selecciona un nivel para empezar.</div>
          <div
            id="coursesCards"
            class="coursesGrid"
            style="margin-top: 12px"
          ></div>
        </div>

        <div class="referralRow" style="margin-top: 16px">

              style="margin-top: 10px"
            ></div>
            <div
              id="refRewardsActions"
              class="muted"
              style="margin-top: 10px"
            ></div>
          </div>
        </div>


        <!-- Settings modal (placeholder for panel-page.js) -->
        <div id="adminModal" class="modalOverlay" aria-hidden="true">
          <div class="modalCard">
            <div class="modalHead">
              <div class="modalTitle">Admin / Ajustes</div>
              <button
                id="closeSettingsBtn"
                class="btn-white-outline"
                type="button"
              >
                ‚úñ
              </button>
            </div>
            <div class="hr"></div>

            <!-- host for extra buttons preview -->
            <div id="extraButtonsHost" class="metaRow"></div>
            <div
              id="extraButtonsPreview"
              class="muted"
              style="margin-top: 10px"
            ></div>

            <div class="hr"></div>

            <!-- Prices placeholders -->
            <div class="panelGrid">
              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">Precios</div>
                <div class="metaRow">
                  <input
                    id="adm_price_A1A2"
                    type="number"
                    placeholder="A1/A2"
                  />
                  <input id="adm_price_B1" type="number" placeholder="B1" />
                  <input id="adm_price_B2" type="number" placeholder="B2" />
                </div>
              </div>
            </div>

            <div
              class="metaRow"
              style="margin-top: 12px; justify-content: flex-end"
            >
              <button id="userClose" class="btn-white-outline" type="button">
                Cerrar
              </button>
            </div>
          </div>
        </div>

        <!-- Meta modal placeholders -->
        <div id="metaModal" class="modalOverlay" aria-hidden="true">
          <div class="modalCard">
            <div class="modalHead">
              <div class="modalTitle">Editar meta del curso</div>
              <button id="metaClose" class="btn-white-outline" type="button">
                ‚úñ
              </button>
            </div>
            <div class="hr"></div>

            <div class="panelGrid">
              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">Nivel</div>
                <div id="metaLevel" class="muted">‚Äî</div>
                <div style="margin-top: 12px">
                  <label class="muted" style="font-weight: 900">Title</label>
                  <input id="metaTitle" type="text" />
                </div>
                <div style="margin-top: 10px">
                  <label class="muted" style="font-weight: 900">Subtitle</label>
                  <input id="metaSubtitle" type="text" />
                </div>
              </div>

              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">
                  Bot√≥n / Tile
                </div>
                <div class="metaRow">
                  <input
                    id="metaPrimaryLabel"
                    type="text"
                    placeholder="Primary label"
                  />
                  <input
                    id="metaPrimaryHref"
                    type="text"
                    placeholder="Primary href"
                  />
                </div>
                <div class="metaRow" style="margin-top: 10px">
                  <input id="metaBtnText" type="text" placeholder="Btn text" />
                  <input id="metaBtnBg" type="text" placeholder="Btn bg" />
                </div>
                <div class="metaRow" style="margin-top: 10px">
                  <input
                    id="metaTileText"
                    type="text"
                    placeholder="Tile text"
                  />
                  <input id="metaTileBg" type="text" placeholder="Tile bg" />
                </div>
              </div>
            </div>

            <div
              class="metaRow"
              style="margin-top: 12px; justify-content: flex-end"
            >
              <button id="metaSave" class="btn-yellow" type="button">
                Guardar
              </button>
              <button id="metaCancel" class="btn-white-outline" type="button">
                Cancelar
              </button>
              <span
                id="metaDeleteWrap"
                style="margin-left: auto; display: none"
              >
                <button id="metaDelete" class="btn-red" type="button">
                  Eliminar
                </button>
                <button id="metaDeleteWithData" class="btn-red" type="button">
                  Eliminar con datos
                </button>
              </span>
            </div>
          </div>
        </div>

        <!-- Add course modal placeholders -->
        <div id="addCourseModal" class="modalOverlay" aria-hidden="true">
          <div class="modalCard">
            <div class="modalHead">
              <div class="modalTitle">Nuevo curso</div>
              <button
                id="addCourseClose"
                class="btn-white-outline"
                type="button"
              >
                ‚úñ
              </button>
            </div>
            <div class="hr"></div>

            <div class="panelGrid">
              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">Nivel</div>
                <select id="newCourseLevel">
                  <option value="A1">A1</option>
                  <option value="A2">A2</option>
                  <option value="B1">B1</option>
                  <option value="B2">B2</option>
                </select>
                <div style="margin-top: 10px">
                  <label class="muted" style="font-weight: 900">Title</label>
                  <input id="newCourseTitle" type="text" />
                </div>
                <div style="margin-top: 10px">
                  <label class="muted" style="font-weight: 900">Subtitle</label>
                  <input id="newCourseSubtitle" type="text" />
                </div>
              </div>

              <div class="card">
                <div class="sectionTitle" style="margin-top: 0">
                  Bot√≥n / Tile
                </div>
                <div class="metaRow">
                  <input
                    id="newCoursePrimaryLabel"
                    type="text"
                    placeholder="Primary label"
                  />
                  <input
                    id="newCoursePrimaryHref"
                    type="text"
                    placeholder="Primary href"
                  />
                </div>
                <div class="metaRow" style="margin-top: 10px">
                  <input
                    id="newCourseBtnText"
                    type="text"
                    placeholder="Btn text"
                  />
                  <input id="newCourseBtnBg" type="text" placeholder="Btn bg" />
                </div>
                <div class="metaRow" style="margin-top: 10px">
                  <input
                    id="newCourseTileText"
                    type="text"
                    placeholder="Tile text"
                  />
                  <input
                    id="newCourseTileBg"
                    type="text"
                    placeholder="Tile bg"
                  />
                </div>
              </div>
            </div>

            <div
              class="metaRow"
              style="margin-top: 12px; justify-content: flex-end"
            >
              <button id="addCourseCreate" class="btn-yellow" type="button">
                Crear
              </button>
              <button
                id="addCourseCancel"
                class="btn-white-outline"
                type="button"
              >
                Cancelar
              </button>
            </div>
          </div>
        </div>

        <!-- legacy placeholders required by panel-page.js but not shown -->
        <a id="adm_btn_href" style="display: none"></a>
        <input id="adm_btn_text" style="display: none" />
        <input id="adm_btn_style" style="display: none" />
        <input id="addCourseBtn" style="display: none" />
        <div id="metaDeleteWrap" style="display: none"></div>
        <div id="metaDelete" style="display: none"></div>
        <div id="metaDeleteWithData" style="display: none"></div>
        <div id="metaSave" style="display: none"></div>
        <div id="metaCancel" style="display: none"></div>
      </div>
    </main>

    <script type="module" src="assets/js/pages/panel-page.js"></script>
  </body>
</html>
